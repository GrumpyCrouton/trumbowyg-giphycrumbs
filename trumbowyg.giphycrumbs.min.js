!function(e){"use strict";var n=null,o=null,t=null,i={rating:"g",icon:'<path d="M15.676 40.149v-5.282h13.645v12.489c-1.326 1.283-3.248 2.413-5.764 3.39-2.516.977-5.065 1.465-7.646 1.465-3.279 0-6.137-.688-8.575-2.064-2.439-1.376-4.271-3.343-5.497-5.903C.613 41.685 0 38.901 0 35.893c0-3.265.684-6.166 2.053-8.704 1.369-2.538 3.372-4.484 6.01-5.839 2.01-1.04 4.512-1.561 7.506-1.561 3.893 0 6.933.816 9.122 2.449 2.188 1.632 3.596 3.889 4.223 6.769l-6.287 1.176c-.442-1.54-1.273-2.755-2.492-3.646-1.219-.892-2.741-1.337-4.566-1.337-2.766 0-4.965.877-6.597 2.63-1.633 1.754-2.449 4.356-2.449 7.806 0 3.722.827 6.513 2.481 8.373 1.654 1.861 3.821 2.791 6.501 2.791 1.326 0 2.656-.26 3.989-.781 1.333-.52 2.477-1.151 3.432-1.892v-3.978h-7.25zM36.568 20.324h6.33v31.352h-6.33zM50.507 51.676V20.324H72v5.304H56.837v7.421h13.089v5.303H56.837v13.324h-6.33z"></path>',search_delay:750,img_wrapper:"<div></div>"};function c(t){e.ajax({url:t,dataType:"json",success:function(t){!function(t){o.empty(),e.each(t,function(t,i){o.append(e(n.img_wrapper).html(e(n.img_tag).attr("src",i.images.downsized.url)))})}(t.data)},error:function(e){console.log(e),r("API error. Details above.")}})}function r(e){throw new Error(e)}function s(){n.open_modal(n.modal_selector)}e.extend(!0,e.trumbowyg,{langs:{en:{giphycrumbs:"Giphy Crumbs"}},plugins:{giphycrumbs:{init:function(a){n=a.o.plugins.giphycrumbs,n=e.extend(!0,{},i,a.o.plugins.giphycrumbs||{});e.each(["apiKey","modal_selector","giphy_selector","search_selector","giphy_selector","modal_selector","img_container_selector","img_tag","open_modal","close_modal"],function(e,o){n[o]||r("Missing Required Argument: "+o)}),o=e(n.img_container_selector),c((t="https://api.giphy.com/v1/gifs/search?api_key="+n.apiKey+"&rating="+n.rating).replace("/search","/trending")),function(o){e(document).on("click",n.giphy_selector,function(){o.execCmd("insertImage",e(this).attr("src"),!1,!0),n.close_modal(n.modal_selector)}),e(document).on("keyup",n.search_selector,function(e,n){let o=0;return function(...t){clearTimeout(o),o=setTimeout(e.bind(this,...t),n||0)}}(function(){c(t+"&q="+encodeURIComponent(e(this).val()))},n.search_delay))}(a),e("body").prepend(e('<div class="custom_trumbo_icons"></div').html(e('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="trumbowyg-giphycrumbs" viewBox="0 0 72 72">'+n.icon+"</symbol></svg>"))),a.addBtnDef("giphycrumbs",{fn:s})}}}})}(jQuery);
